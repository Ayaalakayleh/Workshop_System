@model List<Workshop.Core.DTOs.ShiftListItemDTO>
@using Workshop.Resources;
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<Common> Common
@inject IStringLocalizer<Messages> Message
@{
    var lang = System.Threading.Thread.CurrentThread.CurrentCulture.Name;
}
<table id="data" class="table table-bordered table-hover text-center w-100 main-table">
        <thead>
            <tr>
                <th>@Common["Code"]</th>
                <th>@Common["ShortName"]</th>
                <th>@Common["Name"]</th>
                <th>@Common["Color"]</th>
                <th>@Common["SpanMidnight"]</th>
                <th>@Common["DOW"]</th>
                <th>@Common["Label_Actions"]</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.Code</td>
                    <td>@item.Short</td>
                <td>
                    @(lang == "en"
                                    ? item.PrimaryName
                                    : item.SecondaryName)
               </td>

                <td>
                        @if (!string.IsNullOrEmpty(item.Color))
                        {
                            <span class="width-1 height-1 rounded-circle d-block m-auto"
                                  style="background-color: @item.Color"></span>
                        }
                    </td>
                    <td>@(item.SpanMidnight ? Common["Yes"] : Common["No"])</td>
                    <td>
                        @item.DOWVisualRepresentation()                        
                    </td>
                    <td>
                        <a onclick="loadShiftForEdit(@item.Id)"
                           class="btn btn-info btn-sm">
                            <i class="fad fa-pencil"></i>&nbsp;@Common["Button_Edit"]
                        </a>
                        <button class="btn btn-danger btn-sm"
                                onclick="deleteShift(@item.Id)">
                            <i class="fad fa-trash"></i>&nbsp;@Common["Delete"]
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
 
@*     <script>
            $('.main-table').DataTable({
        responsive: true,
        pageLength: 10,
        info: false,
        paging: false,
        dom: 'tp',
        language: {
            emptyTable: resources.EmptyData
        }
    });
    </script>  *@
@* @if (Model.Count() > 0)
{
    <input id="total_pages" value="@(Model.Count() > 0 ? Math.Ceiling((decimal)Model.ToList()[0].TotalCount / 25) : 0)" hidden />
} *@

<script src="~/js/definitions/ShiftsPager.js"></script>